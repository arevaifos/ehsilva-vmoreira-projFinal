<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<ui:composition>

	<h:panelGroup layout="block" class="col-md-5 divwhite">
		<!-- classe lado direito do ecra -->

		<h2>#{msg['Manager']}</h2>
		<br />

		<h:panelGroup id="blockManager1" layout="block" styleClass="row">

			<h:panelGroup layout="block" styleClass="col-md-8">
				<h:inputText id="idManagerName" value="#{projects.managerName}"
					styleClass="form-control inputDiv2" disabled="true">
				</h:inputText>
				<h:inputHidden value="#{projects.managerEmail}">
				</h:inputHidden>
			</h:panelGroup>

			<h:panelGroup layout="block" styleClass="col-md-4">
				<p:commandButton value="#{msg['Btn_Change']}"
					oncomplete="$('#managerModal').modal('show')"
					styleClass="btn botaoPeq" />
			</h:panelGroup>

		</h:panelGroup>

		<br />
		<h2>#{msg['Proj_rh']}</h2>
		<br />
		<h:panelGroup>

			<h:form id="userTableForm">
				<b:dataTable id="userTable" style-class="tableTxt txtCenter"
					value="#{projects.projectUsers}" var="projectUser"
					fixedHeader="true" responsive="true" searching="false"
					scroll-x="false" scroll-size="400px" paginated="true" info="false"
					page-length="5" page-length-menu="5,10,15"
					customLangUrl="#{msg['Tabelas']}">
					<b:dataTableColumn style-class="txtCenter" label="#{msg['Name1']}"
						value="#{projectUser.name}" />
					<b:dataTableColumn style-class="txtCenter" label="#{msg['Email1']}"
						value="#{projectUser.email}" />
				</b:dataTable>

			</h:form>

		</h:panelGroup>
		<h2>#{msg['Proj_acti']}</h2>

		<br />
		<h:panelGroup>

			<h:form id="atividadesTableForm">
				<b:dataTable id="atividadesTable" style-class="tableTxt txtCenter"
					value="#{projects.projectActivities}" var="projectActivity"
					searching="false" fixedHeader="true" responsive="true"
					scroll-x="false" scroll-size="400px" paginated="true" info="false"
					page-length="5" page-length-menu="5,10,15"
					customLangUrl="#{msg['Tabelas']}">
					<b:dataTableColumn style-class="txtCenter" label="#{msg['Acti']}"
						value="#{projectActivity.nameActivity}" />
					<b:dataTableColumn style-class="txtCenter"
						label="#{msg['StartDate']}"
						value="#{projectActivity.beginDateact}" />
					<b:dataTableColumn style-class="txtCenter"
						label="#{msg['EndDate']}">
						<h:outputText value="#{projectActivity.endDateact}">
							<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
						</h:outputText>
					</b:dataTableColumn>
				</b:dataTable>

			</h:form>
			<h:form>
				<h:panelGroup layout="block" styleClass="col-md-9"></h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-3">

					<!-- 					<p:commandButton value="#{msg['Btn_add']}" -->
					<!-- 						action="activityNew.xhtml" styleClass="btn botaoPeq" /> -->
				</h:panelGroup>

			</h:form>


		</h:panelGroup>

	</h:panelGroup>

	<!-- Modal -->
	<h:panelGroup layout="block" class="modal fade" id="managerModal"
		tabindex="-1" role="dialog" aria-labelledby="managerModalLabel">
		<h:panelGroup layout="block" class="modal-dialog" role="document">
			<h:panelGroup layout="block" class="modal-content">
				<h:panelGroup layout="block" class="modal-header">
					<p:commandLink value="#{msg['Close']}" class="close closeText"
						oncomplete="$('#managerModal').modal('hide');" immediate="true">
					</p:commandLink>

				</h:panelGroup>
				<h:panelGroup layout="block" class="modal-body">


					<h2>#{msg['Manager']}</h2>

					<h:panelGroup layout="block" class="space"></h:panelGroup>


					<h:form id="formDadosManager1">

						<h:panelGroup layout="block" class="row">

							<h:panelGroup layout="block" class="col-md-12">
								<!-- ******************************* pedir dados ************************************** -->


								<h:panelGroup layout="block" class="row">
									<h:panelGroup layout="block" styleClass="col-md-12">
										<h:inputText id="idManagerName2"
											value="#{projects.newManagerName}"
											styleClass="form-control inputDiv2" disabled="true">
										</h:inputText>
										<h:inputHidden value="#{projects.newManagerEmail}">
										</h:inputHidden>
									</h:panelGroup>
								</h:panelGroup>


								<h:panelGroup layout="block" styleClass="row">
									<h:panelGroup layout="block" styleClass="col-md-12">
										<br></br>
									</h:panelGroup>
								</h:panelGroup>

								<h:panelGroup layout="block" styleClass="row">

									<h:panelGroup layout="block" styleClass="col-md-6">

										<h:panelGroup layout="block" styleClass="txtRight">
											<p:commandButton value="#{msg['Btn_back']}"
												styleClass="btn botaoPeq" ajax="false"
												actionListener="#{projects.cancelEditManager()}"
												oncomplete="$('#managerModal').modal('hide');">
											</p:commandButton>
										</h:panelGroup>

									</h:panelGroup>

									<h:panelGroup layout="block" styleClass="col-md-6">

										<h:panelGroup layout="block" styleClass="txtRight">
											<p:commandButton value="#{msg['Tab-next']}"
												styleClass="btn botaoPeq" process="formDadosManager1"
												update="blockManager1"
												actionListener="#{projects.saveEditManager()}"
												oncomplete="$('#managerModal').modal('hide');">
											</p:commandButton>
										</h:panelGroup>

									</h:panelGroup>
								</h:panelGroup>
							</h:panelGroup>


							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-12">
									<br></br>
								</h:panelGroup>
							</h:panelGroup>


							<h:panelGroup id="blockManager3" layout="block" styleClass="row">

								<h:panelGroup layout="block" styleClass="col-md-12">
									<h:panelGroup layout="block" styleClass="col-md-12">


										<b:dataTable id="userTableA" style-class="tableTxt txtCenter"
											value="#{projects.allUsers}" var="user" fixedHeader="true"
											responsive="true" scroll-size="400px" scroll-x="false"
											info="false" page-length="5" page-length-menu="5,10,15"
											searching="true" customLangUrl="#{msg['Tabelas']}">

											<b:dataTableColumn label="#{msg['Name1']}"
												style-class="txtCenter" value="#{user.name}" />
											<b:dataTableColumn label="#{msg['Email1']}"
												style-class="txtCenter" value="#{user.email}" />
											<b:dataTableColumn label="#{msg['Select']}"
												style-class="txtCenter">
												<p:commandButton styleClass="selectBtn" value=" "
													actionListener="#{projects.chooseManager(user.email,user.name)}"
													rendered="#{projects.choosed==false}" class="selectBtn"
													update="formDadosManager1 ">
												</p:commandButton>

												<p:commandButton styleClass="cancelBtn" value=" "
													actionListener="#{projects.canceleChooseManager()}"
													rendered="#{projects.choosed==true}"
													update="formDadosManager1 ">
												</p:commandButton>
											</b:dataTableColumn>
										</b:dataTable>
									</h:panelGroup>
								</h:panelGroup>
							</h:panelGroup>



							<!-- 						row maior -->
						</h:panelGroup>
					</h:form>
					<!-- 			modal -->
				</h:panelGroup>
				<!-- 				modal -->
			</h:panelGroup>
			<!-- 			modal -->
		</h:panelGroup>
		<!-- 		modal -->
	</h:panelGroup>
</ui:composition>

</html>